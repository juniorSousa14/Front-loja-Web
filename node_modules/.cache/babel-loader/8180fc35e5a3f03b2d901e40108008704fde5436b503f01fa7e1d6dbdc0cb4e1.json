{"ast":null,"code":"// Coloquei todas as funções para acessar o backend aqui\nimport axios from \"axios\";\nconst URL_BACK = 'http://localhost:3000/produtos';\n\n/* \r\n * DICA DE BOA PRÁTICA: sempre faça um map nos dados que você\r\n * recebe do backend, convertendo para o formato dos dados que\r\n * o frontend espera. Desse modo, reduzimos o acoplamento\r\n * entre backend e frontend. Tornando a aplicação mais robusta\r\n * à alterações no backend.\r\n */\nexport const converteProduto = p => {\n  return {\n    id: p.id ? p.id : p._id,\n    // o spring trabalha com id o node trabala com _id\n    nome: p.nome,\n    valor: p.valor,\n    foto: p.foto\n  };\n};\nexport const getProdutos = () => {\n  return axios.get(URL_BACK).then(res => {\n    return res.data.map(converteProduto);\n  });\n};\nexport const getProdutoPorId = id => {\n  return axios.get(URL_BACK + \"/\" + id).then(res => {\n    return converteProduto(res.data);\n  });\n};\nexport const salvarProduto = form => {\n  return axios.post(URL_BACK, form);\n};\nexport const excluirProduto = id => {\n  return axios.delete(URL_BACK + \"/\" + id);\n};","map":{"version":3,"names":["axios","URL_BACK","converteProduto","p","id","_id","nome","valor","foto","getProdutos","get","then","res","data","map","getProdutoPorId","salvarProduto","form","post","excluirProduto","delete"],"sources":["C:/Users/junio/dev/facisa/loja-front/loja-front/src/backend.js"],"sourcesContent":["// Coloquei todas as funções para acessar o backend aqui\r\nimport axios from \"axios\";\r\n\r\nconst URL_BACK = 'http://localhost:3000/produtos';\r\n\r\n/* \r\n * DICA DE BOA PRÁTICA: sempre faça um map nos dados que você\r\n * recebe do backend, convertendo para o formato dos dados que\r\n * o frontend espera. Desse modo, reduzimos o acoplamento\r\n * entre backend e frontend. Tornando a aplicação mais robusta\r\n * à alterações no backend.\r\n */\r\nexport const converteProduto = (p) => {\r\n  return {\r\n    id: p.id ? p.id : p._id, // o spring trabalha com id o node trabala com _id\r\n    nome: p.nome,\r\n    valor: p.valor,\r\n    foto: p.foto\r\n  }\r\n};\r\n\r\nexport const getProdutos = () => {\r\n  return axios.get(URL_BACK).then(res => {\r\n    return res.data.map(converteProduto);\r\n  });\r\n};\r\n\r\nexport const getProdutoPorId = (id) => {\r\n  return axios.get(URL_BACK + \"/\" + id).then(res => {\r\n    return converteProduto(res.data);\r\n  });\r\n};\r\n\r\nexport const salvarProduto = (form) => {\r\n  return axios.post(URL_BACK, form);\r\n};\r\n\r\nexport const excluirProduto = (id) => {\r\n  return axios.delete(URL_BACK + \"/\" + id);\r\n};\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n"],"mappings":"AAAA;AACA,OAAOA,KAAK,MAAM,OAAO;AAEzB,MAAMC,QAAQ,GAAG,gCAAgC;;AAEjD;AACA;AACA;AACA;AACA;AACA;AACA;AACA,OAAO,MAAMC,eAAe,GAAIC,CAAC,IAAK;EACpC,OAAO;IACLC,EAAE,EAAED,CAAC,CAACC,EAAE,GAAGD,CAAC,CAACC,EAAE,GAAGD,CAAC,CAACE,GAAG;IAAE;IACzBC,IAAI,EAAEH,CAAC,CAACG,IAAI;IACZC,KAAK,EAAEJ,CAAC,CAACI,KAAK;IACdC,IAAI,EAAEL,CAAC,CAACK;EACV,CAAC;AACH,CAAC;AAED,OAAO,MAAMC,WAAW,GAAGA,CAAA,KAAM;EAC/B,OAAOT,KAAK,CAACU,GAAG,CAACT,QAAQ,CAAC,CAACU,IAAI,CAACC,GAAG,IAAI;IACrC,OAAOA,GAAG,CAACC,IAAI,CAACC,GAAG,CAACZ,eAAe,CAAC;EACtC,CAAC,CAAC;AACJ,CAAC;AAED,OAAO,MAAMa,eAAe,GAAIX,EAAE,IAAK;EACrC,OAAOJ,KAAK,CAACU,GAAG,CAACT,QAAQ,GAAG,GAAG,GAAGG,EAAE,CAAC,CAACO,IAAI,CAACC,GAAG,IAAI;IAChD,OAAOV,eAAe,CAACU,GAAG,CAACC,IAAI,CAAC;EAClC,CAAC,CAAC;AACJ,CAAC;AAED,OAAO,MAAMG,aAAa,GAAIC,IAAI,IAAK;EACrC,OAAOjB,KAAK,CAACkB,IAAI,CAACjB,QAAQ,EAAEgB,IAAI,CAAC;AACnC,CAAC;AAED,OAAO,MAAME,cAAc,GAAIf,EAAE,IAAK;EACpC,OAAOJ,KAAK,CAACoB,MAAM,CAACnB,QAAQ,GAAG,GAAG,GAAGG,EAAE,CAAC;AAC1C,CAAC"},"metadata":{},"sourceType":"module","externalDependencies":[]}